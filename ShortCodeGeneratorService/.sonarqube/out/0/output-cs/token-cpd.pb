…
\D:\Tools\WebAPI\Microservices\ShortCodeGeneratorService\ShortCodeGeneratorService\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder 
. 
Services 
. 
AddControllers 
(  
)  !
;! "
builder 
. 
Configuration 
. 
AddUserSecrets $
<$ %
Program% ,
>, -
(- .
). /
;/ 0
var

 
connectionString

 
=

 
builder

 
.

 
Configuration

 ,
.

, -
GetConnectionString

- @
(

@ A
$str

A T
)

T U
;

U V
builder 
. 
Services 
. 
AddDbContext 
< 
AppDBContext *
>* +
(+ ,
options, 3
=>4 6
options 
. 
UseMySql 
( 
connectionString %
,% &
ServerVersion' 4
.4 5

AutoDetect5 ?
(? @
connectionString@ P
)P Q
)Q R
) 
; 
builder 
. 
Services 
. #
AddEndpointsApiExplorer (
(( )
)) *
;* +
builder 
. 
Services 
. 
AddSwaggerGen 
( 
)  
;  !
builder 
. 
Services 
. 
AddCors 
( 
options  
=>! #
{ 
options 
. 
	AddPolicy 
( 
$str  
,  !
policy" (
=>) +
{ 
policy 
. 
AllowAnyOrigin 
( 
) 
. 	
AllowAnyMethod	 
( 
) 
. 	
AllowAnyHeader	 
( 
) 
; 
} 
) 
; 
} 
) 
; 
var 
app 
= 	
builder
 
. 
Build 
( 
) 
; 
if   
(   
app   
.   
Environment   
.   
IsDevelopment   !
(  ! "
)  " #
)  # $
{!! 
app"" 
."" 

UseSwagger"" 
("" 
)"" 
;"" 
app## 
.## 
UseSwaggerUI## 
(## 
c## 
=>## 
{$$ 
c%% 	
.%%	 

SwaggerEndpoint%%
 
(%% 
$str%% 4
,%%4 5
$str%%6 Q
)%%Q R
;%%R S
}&& 
)&& 
;&& 
}'' 
app)) 
.)) 
UseHttpsRedirection)) 
()) 
))) 
;)) 
app** 
.** 
UseCors** 
(** 
$str** 
)** 
;** 
app++ 
.++ 
UseAuthorization++ 
(++ 
)++ 
;++ 
app-- 
.-- 
MapControllers-- 
(-- 
)-- 
;-- 
app.. 
... 
Run.. 
(.. 
).. 	
;..	 
½
eD:\Tools\WebAPI\Microservices\ShortCodeGeneratorService\ShortCodeGeneratorService\Models\ShortCode.cs
	namespace 	%
ShortCodeGeneratorService
 #
.# $
Models$ *
{ 
public 

class 
	ShortCode 
{ 
[ 	
Key	 
] 
public 
int 
ShortCodeID 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
$num/ 0
;0 1
[ 	
Required	 
] 
public		 
string		 
ShortCodeURL		 "
{		# $
get		% (
;		( )
set		* -
;		- .
}		/ 0
=		1 2
string		3 9
.		9 :
Empty		: ?
;		? @
[

 	
Required

	 
]

 
public 
string 
ShortCodeCreatedAt (
{) *
get+ .
;. /
set0 3
;3 4
}4 5
=6 7
string8 >
.> ?
Empty? D
;D E
[ 	
Required	 
] 
public 
string  
ShortCodeDescription *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
=9 :
string; A
.A B
EmptyB G
;G H
} 
} ®
|D:\Tools\WebAPI\Microservices\ShortCodeGeneratorService\ShortCodeGeneratorService\Migrations\20250710052252_Initialcreate.cs
	namespace 	%
ShortCodeGeneratorService
 #
.# $

Migrations$ .
{ 
public		 

partial		 
class		 
Initialcreate		 &
:		' (
	Migration		) 2
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
AlterDatabase *
(* +
)+ ,
. 

Annotation 
( 
$str +
,+ ,
$str- 6
)6 7
;7 8
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str "
," #
columns 
: 
table 
=> !
new" %
{ 
ShortCodeID 
=  !
table" '
.' (
Column( .
<. /
int/ 2
>2 3
(3 4
type4 8
:8 9
$str: ?
,? @
nullableA I
:I J
falseK P
)P Q
. 

Annotation #
(# $
$str$ C
,C D(
MySqlValueGenerationStrategyE a
.a b
IdentityColumnb p
)p q
,q r
ShortCodeURL  
=! "
table# (
.( )
Column) /
</ 0
string0 6
>6 7
(7 8
type8 <
:< =
$str> H
,H I
nullableJ R
:R S
falseT Y
)Y Z
. 

Annotation #
(# $
$str$ 3
,3 4
$str5 >
)> ?
,? @
ShortCodeCreatedAt &
=' (
table) .
.. /
Column/ 5
<5 6
string6 <
>< =
(= >
type> B
:B C
$strD N
,N O
nullableP X
:X Y
falseZ _
)_ `
. 

Annotation #
(# $
$str$ 3
,3 4
$str5 >
)> ?
,? @ 
ShortCodeDescription (
=) *
table+ 0
.0 1
Column1 7
<7 8
string8 >
>> ?
(? @
type@ D
:D E
$strF P
,P Q
nullableR Z
:Z [
false\ a
)a b
. 

Annotation #
(# $
$str$ 3
,3 4
$str5 >
)> ?
} 
, 
constraints 
: 
table "
=># %
{ 
table   
.   

PrimaryKey   $
(  $ %
$str  % 4
,  4 5
x  6 7
=>  8 :
x  ; <
.  < =
ShortCodeID  = H
)  H I
;  I J
}!! 
)!! 
."" 

Annotation"" 
("" 
$str"" +
,""+ ,
$str""- 6
)""6 7
;""7 8
}## 	
	protected&& 
override&& 
void&& 
Down&&  $
(&&$ %
MigrationBuilder&&% 5
migrationBuilder&&6 F
)&&F G
{'' 	
migrationBuilder(( 
.(( 
	DropTable(( &
(((& '
name)) 
:)) 
$str)) "
)))" #
;))# $
}** 	
}++ 
},, ß
fD:\Tools\WebAPI\Microservices\ShortCodeGeneratorService\ShortCodeGeneratorService\Data\AppDBContext.cs
	namespace 	%
ShortCodeGeneratorService
 #
.# $
Data$ (
{ 
public 

class 
AppDBContext 
: 
	DbContext '
{ 
public 
AppDBContext 
( 
DbContextOptions ,
<, -
AppDBContext- 9
>9 :
options; B
)B C
:D E
baseF J
(J K
optionsK R
)R S
{ 	
}		 	
public

 
DbSet

 
<

 
	ShortCode

 
>

 

ShortCodes

  *
{

+ ,
get

- 0
;

0 1
set

2 5
;

5 6
}

7 8
} 
} à2
uD:\Tools\WebAPI\Microservices\ShortCodeGeneratorService\ShortCodeGeneratorService\Controllers\ShortCodesController.cs
	namespace 	%
ShortCodeGeneratorService
 #
.# $
Controllers$ /
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class  
ShortCodesController %
:& '
ControllerBase( 6
{ 
private 
readonly 
AppDBContext %
_context& .
;. /
public  
ShortCodesController #
(# $
AppDBContext$ 0
context1 8
)8 9
{ 	
_context 
= 
context 
; 
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
ActionResult &
<& '
IEnumerable' 2
<2 3
	ShortCode3 <
>< =
>= >
>> ?
GetShortCodes@ M
(M N
)N O
{ 	
return 
await 
_context !
.! "

ShortCodes" ,
., -
ToListAsync- 8
(8 9
)9 :
;: ;
} 	
[## 	
HttpGet##	 
(## 
$str## 
)## 
]## 
public$$ 
async$$ 
Task$$ 
<$$ 
ActionResult$$ &
<$$& '
	ShortCode$$' 0
>$$0 1
>$$1 2
GetShortCode$$3 ?
($$? @
int$$@ C
id$$D F
)$$F G
{%% 	
var&& 
	shortCode&& 
=&& 
await&& !
_context&&" *
.&&* +

ShortCodes&&+ 5
.&&5 6
	FindAsync&&6 ?
(&&? @
id&&@ B
)&&B C
;&&C D
if(( 
((( 
	shortCode(( 
==(( 
null(( !
)((! "
{)) 
return** 
NotFound** 
(**  
)**  !
;**! "
}++ 
return-- 
	shortCode-- 
;-- 
}.. 	
[66 	
HttpPut66	 
(66 
$str66 
)66 
]66 
public77 
async77 
Task77 
<77 
IActionResult77 '
>77' (
PutShortCode77) 5
(775 6
int776 9
id77: <
,77< =
	ShortCode77> G
	shortCode77H Q
)77Q R
{88 	
if99 
(99 
id99 
!=99 
	shortCode99 
.99  
ShortCodeID99  +
)99+ ,
{:: 
return;; 

BadRequest;; !
(;;! "
);;" #
;;;# $
}<< 
_context>> 
.>> 
Entry>> 
(>> 
	shortCode>> $
)>>$ %
.>>% &
State>>& +
=>>, -
EntityState>>. 9
.>>9 :
Modified>>: B
;>>B C
try@@ 
{AA 
awaitBB 
_contextBB 
.BB 
SaveChangesAsyncBB /
(BB/ 0
)BB0 1
;BB1 2
}CC 
catchDD 
(DD (
DbUpdateConcurrencyExceptionDD /
)DD/ 0
{EE 
ifFF 
(FF 
!FF 
ShortCodeExistsFF $
(FF$ %
idFF% '
)FF' (
)FF( )
{GG 
returnHH 
NotFoundHH #
(HH# $
)HH$ %
;HH% &
}II 
elseJJ 
{KK 
throwLL 
;LL 
}MM 
}NN 
returnPP 
	NoContentPP 
(PP 
)PP 
;PP 
}QQ 	
[XX 	
HttpPostXX	 
]XX 
publicYY 
asyncYY 
TaskYY 
<YY 
ActionResultYY &
<YY& '
	ShortCodeYY' 0
>YY0 1
>YY1 2
PostShortCodeYY3 @
(YY@ A
	ShortCodeYYA J
	shortCodeYYK T
)YYT U
{ZZ 	
_context[[ 
.[[ 

ShortCodes[[ 
.[[  
Add[[  #
([[# $
	shortCode[[$ -
)[[- .
;[[. /
await\\ 
_context\\ 
.\\ 
SaveChangesAsync\\ +
(\\+ ,
)\\, -
;\\- .
return^^ 
CreatedAtAction^^ "
(^^" #
$str^^# 1
,^^1 2
new^^3 6
{^^7 8
id^^9 ;
=^^< =
	shortCode^^> G
.^^G H
ShortCodeID^^H S
}^^T U
,^^U V
	shortCode^^W `
)^^` a
;^^a b
}__ 	
[ff 	

HttpDeleteff	 
(ff 
$strff 
)ff 
]ff 
publicgg 
asyncgg 
Taskgg 
<gg 
IActionResultgg '
>gg' (
DeleteShortCodegg) 8
(gg8 9
intgg9 <
idgg= ?
)gg? @
{hh 	
varii 
	shortCodeii 
=ii 
awaitii !
_contextii" *
.ii* +

ShortCodesii+ 5
.ii5 6
	FindAsyncii6 ?
(ii? @
idii@ B
)iiB C
;iiC D
ifjj 
(jj 
	shortCodejj 
==jj 
nulljj !
)jj! "
{kk 
returnll 
NotFoundll 
(ll  
)ll  !
;ll! "
}mm 
_contextoo 
.oo 

ShortCodesoo 
.oo  
Removeoo  &
(oo& '
	shortCodeoo' 0
)oo0 1
;oo1 2
awaitpp 
_contextpp 
.pp 
SaveChangesAsyncpp +
(pp+ ,
)pp, -
;pp- .
returnrr 
	NoContentrr 
(rr 
)rr 
;rr 
}ss 	
privateuu 
booluu 
ShortCodeExistsuu $
(uu$ %
intuu% (
iduu) +
)uu+ ,
{vv 	
returnww 
_contextww 
.ww 

ShortCodesww &
.ww& '
Anyww' *
(ww* +
eww+ ,
=>ww- /
eww0 1
.ww1 2
ShortCodeIDww2 =
==ww> @
idwwA C
)wwC D
;wwD E
}xx 	
}yy 
}zz 